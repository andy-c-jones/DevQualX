@namespace DevQualX.Web.Components.Library.Atoms

<div 
    class="tabs__panel @(IsActive ? "tabs__panel--active" : "") @Class"
    role="tabpanel"
    aria-labelledby="@TabId"
    id="@PanelId"
    tabindex="0"
    hidden="@(!IsActive)"
    @attributes="AdditionalAttributes">
    @ChildContent
</div>

@code {
    /// <summary>
    /// Tab panel content.
    /// </summary>
    [Parameter]
    public RenderFragment? ChildContent { get; set; }
    
    /// <summary>
    /// Unique ID for this panel.
    /// </summary>
    [Parameter, EditorRequired]
    public required string PanelId { get; set; }
    
    /// <summary>
    /// ID of the tab button that controls this panel.
    /// </summary>
    [Parameter]
    public string? TabId { get; set; }
    
    /// <summary>
    /// Whether this panel is currently active.
    /// </summary>
    [Parameter]
    public bool IsActive { get; set; }
    
    /// <summary>
    /// Additional CSS classes to apply to the tab panel.
    /// </summary>
    [Parameter]
    public string? Class { get; set; }
    
    /// <summary>
    /// Additional HTML attributes to apply to the tab panel.
    /// </summary>
    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object>? AdditionalAttributes { get; set; }
    
    protected override void OnParametersSet()
    {
        // Auto-generate TabId if not provided
        TabId ??= $"tab-{PanelId}";
    }
}
